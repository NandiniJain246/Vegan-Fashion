(function($){Drupal.behaviors.vegan_custom_search_tweaks={attach:function(context,settings){var path=$(location).attr('pathname');var search_values=$(location).attr('search');if(search_values==''){$('.region-sidebar-second').hide();}
if(path=='/custom_search/companies'){if(search_values!=''){}}
var convertToSelect2=function(select,placeholder){if(!select.length||typeof select.select2!=='function')return;if(placeholder)select.find('option').first().replaceWith('<option></option>');select.select2({placeholder:placeholder});};convertToSelect2($('#edit-company-type-1'));convertToSelect2($('#edit-country'));convertToSelect2($('#edit-circle-unit'));setTimeout(function(){$('.page-custom-search .page-sidebar--right .region-sidebar-banners .item-list ul.facetapi-facetapi-checkbox-links li.leaf input:checked + a').show()},1000);if($('#edit-include-brand-company').prop('checked')===true){$('#edit-search-api-views-fulltext-wrapper').hide();}
else{$('#edit-search-api-views-fulltext-1-wrapper').hide();}
if($('#edit-new-products-only').prop('checked')===true){$('#edit-created').val('now - 90 days');}
$('#edit-created-wrapper').hide();$('#edit-new-products-only').change(function(e){if($(this).prop('checked')===true){$('#edit-created').val('now - 90 days');}
else{$('#edit-created').val('');}});$('#edit-include-brand-company').change(function(e){if($(this).prop('checked')===true){$('#edit-search-api-views-fulltext-wrapper').hide();$('#edit-search-api-views-fulltext-1-wrapper').show();$('#edit-search-api-views-fulltext-1').val($('#edit-search-api-views-fulltext').val());$('#edit-search-api-views-fulltext').val('');}
else{$('#edit-search-api-views-fulltext-wrapper').show();$('#edit-search-api-views-fulltext-1-wrapper').hide();$('#edit-search-api-views-fulltext').val($('#edit-search-api-views-fulltext-1').val());$('#edit-search-api-views-fulltext-1').val('');}});function createCookie(name,value,days){if(days){var date=new Date();date.setTime(date.getTime()+(days*24*60*60*1000));var expires="; expires="+date.toGMTString();}
else var expires="";document.cookie=name+"="+value+expires+"; path=/";}
$('#by-category').click(function(event){$('#by-product').removeClass('current');$('#by-category').addClass('current');$('#tab1').removeClass('active');$('#tab1').addClass('hide');$('#tab2').removeClass('hide');$('#tab2').addClass('active');createCookie('view-result-type','by-category','22');event.preventDefault();});$('#by-product').click(function(event){$('#by-category').removeClass('current');$('#by-product').addClass('current');$('#tab2').removeClass('active');$('#tab2').addClass('hide');$('#tab1').removeClass('hide');$('#tab1').addClass('active');createCookie('view-result-type','by-product','22');event.preventDefault();});$('#show-map').click(function(event){$('#show-company').removeClass('current');$('#show-map').addClass('current');$('#tab1').removeClass('show-map');$('#tab1').addClass('hide-map');$('#tab2').removeClass('hide-map');$('#tab2').addClass('show-map');createCookie('company-view-result-type','show-map','22');event.preventDefault();});$('#show-company').click(function(event){$('#show-map').removeClass('current');$('#show-company').addClass('current');$('#tab2').removeClass('show-map');$('#tab2').addClass('hide-map');$('#tab1').removeClass('hide-map');$('#tab1').addClass('show-map');createCookie('company-view-result-type','show-company','22');event.preventDefault();});var activateTabs=function(){if($.cookie!==undefined){var companySearchActiveTab=$.cookie('company-view-result-type');var productSearchActiveTab=$.cookie('view-result-type');if(companySearchActiveTab=='show-map')$('#show-map').click();else $('#show-company').click();if(productSearchActiveTab=='by-product')$('#by-product').click();else $('#by-category').click();}};activateTabs();var setupSidebar=function(){var sidebar=$('.region-sidebar-banners');if(sidebar.find('.item-list').length)sidebar.addClass('facets');};setupSidebar();}}})(jQuery);